<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Bike Sharing</title>
   	<script src="https://d3js.org/d3.v4.min.js"></script>
   	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500" rel="stylesheet">
   	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
    <style>

		p {
			font-family: 'Open Sans', sans-serif;
			color:#353536;
			font-weight:300;
		}

		svg {
			width:100%;
			height:600px;
			padding-left:5%;
			padding-right:50px;		
		}
		
		h1 {
			font-size:60px;
			font-weight:200;
			line-height:1.3;
		}
		
		#firstvisualdiv, #secondvisualdiv {
        position: -webkit-sticky;
          position: sticky;
          top: -1px;
    	}
    	
   .text1opacity, .text2opacity, .text3opacity {
        font-size:30px;
        fill:blue;
        opacity:0;
        transition: opacity 0.8s;
         -webkit-transition: opacity 0.8s;
        }


		.active {
        	opacity:1;
    	}



	</style>
</head>
<body>
  <main role="main" class="container" >
     <div class="row">
     	<div class="col-12">
     		<br><br>
     		<h1>Improve Bike Sharing in Low Income Community in NYC </h1>
            <p>Author: Ziyu Ran, Yanchao Li, Zhifei Xu</p>
     		<hr>
     	</div>
     </div>
     <div class="row">
     	<div class="col-4">
     	<br><br>
     	<p>Citi Bikes are proliferating, and tend to arrive at their Manhattan destinations faster than cabs. A trip of up to half a mile in the city takes, on average, five minutes and 37 seconds by cab but just four minutes on a Citi Bike. That makes riding a bike about 30% faster. The same goes for longer rides. </p>
     	<br><br>
     	<p>A trip between 1.5 and 2 miles in Midtown takes just more than 21 minutes in a taxi and 14 minutes, 30 seconds on a Citi Bike. </p>
     	<br><br>
     	<p id="text1">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed laoreet, nulla ut consectetur fermentum, risus nisi pretium justo, sed accumsan mi leo ac tortor. Cras risus mi, volutpat in commodo. </p>
        <br><br>
        <br><br>
     	<p>In the past five years the totals for both Brooklyn and Manhattan have grown enough to stand alone, but totals for the Bronx, Queens, and Staten Island still remain close to the margin of error. </p>
        <br><br>
        <br><br>
     	<p>The New York city council speaker, Corey Johnson, who introduced the “streets master plan” bill and is anticipated to run for mayor in 2021, said after the vote: “The way we plan our streets now makes no sense and New Yorkers pay the price every day, stuck on slow buses or risking their own safety cycling without protected bike lanes … I want to completely revolutionise how we share our street space, and that’s what this bill does. “</p>
        <br><br>
        <br><br>
     	<p>“This is a roadmap to breaking the car culture in a thoughtful, comprehensive way, and I am so proud to pass this bill today." </p>
     	<br><br>

     	</div>
     	<div class="col-8">
     		<div id="firstvisualdiv">
     		</div>
         </div>
         

     	<div class="col-4">
     	<br><br>
     	<p>Process </p>
     	<br><br>
     	<p>First of all, identify the neighborhoods that belong to the low-come ones. </p>
     	<br><br>
     	<p id="text2">We plan to use American Community Survey (ACS) data source. </p>
        <br><br>
        <br><br>
     	<p>ACS has tables of income and demographical data in each community, helping to get income per capita for each community in the New York City.  </p>
        <br><br>
        <br><br>
     	<p>Then making the choropleth map indicating the low-income and middle-income neighborhoods. </p>
        <br><br>
        <br><br>
     	<p>Fig1 illustrates which neighborhoods belong to the low-income and middle-income neighborhoods, as well as the neighborhoods that exclude from the analysis. </p>
        <br><br>
        <br><br>
        <p>The low-income neighborhoods cluster together and appear in four of the five NYC counties.</p>
        <br><br>
          
        
     	</div>
     	<div class="col-8">
     		<div id="secondvisualdiv">
     		</div>
        </div>


        <div class="col-4">
            <br><br>
            <p>Next, identify the neighborhoods that belong to the low transport accessibility ones. We plan to overlap three public transport layers(in dots) and their service buffers(in areas).</p>
            <br><br>
            <p>A) Bike sharing docks </p>
            <br><br>
            <p id="text3"> B) Bus routes stops </p>
           <br><br>
           <br><br>
            <p> C) Subway stations </p>
           <br><br>
           <br><br>
            <p> D) and service buffers for each transport. </p>
           <br><br>
           <br><br>
            <p>We plan to get the size and location of bike sharing docks/ bus routes stops/ subway stations in the New York City, then generate different levels of buffers for each dock/stops/station according to their sizes. </p>
            <br><br>
           
            </div>
            <div class="col-8">
                <div id="thirdvisualdiv">
                </div>
           </div>
         

     </div>
  </main><!-- /.container -->
</body>

<script type="text/javascript">

var svg = d3.select("div#firstvisualdiv")
						.append("svg")
						.attr("viewBox", "0 0 1200 800")
  						.attr("preserveAspectRatio", "xMinYMid")

			svg.append("svg:image")
                .attr("xlink:href","fig0.jpg")
                .attr("x",100)
                .attr("y",0)
                .attr("width",1000)
                .attr("height", 1000)
                .attr("class", "text1opacity")


var svg = d3.select("div#secondvisualdiv")
						.append("svg")
						.attr("viewBox", "0 0 1200 800")
  						.attr("preserveAspectRatio", "xMinYMid")

            svg.append("svg:image")
                .attr("xlink:href","fig1.jpg")
                .attr("x",100)
                .attr("y",0)
                .attr("width",1000)
                .attr("height", 1000)
                .attr("class", "text2opacity")

var svg = d3.select("div#thirdvisualdiv")
						.append("svg")
						.attr("viewBox", "0 0 1200 800")
  						.attr("preserveAspectRatio", "xMinYMid")

            svg.append("svg:image")
                .attr("xlink:href","fig2.jpg")
                .attr("x",100)
                .attr("y",0)
                .attr("width",1000)
                .attr("height", 1000)
                .attr("class", "text3opacity")
  		
// var rectangles = [[200, 0, 800, 600, "gray"],[260, 50, 200, 500, "lightgray"],[500, 50, 430, 500, "lightgray"]];
			   			
// 			svg.selectAll("rect")
// 			   .data(rectangles)
// 			   .enter()
// 			   .append("rect")
// 			   .attr("stroke", "black")
// 			   .attr("stroke-width", 1)
// 			   .attr("x", function(d) {
// 			   		return d[0];})
// 			   .attr("y", function(d) {
// 			   		return d[1];})
// 			   .attr("width", function(d) {
// 			   		return d[2];})
// 			   .attr("height", function(d) {
// 			   		return d[3];})
// 			   .attr("fill", function(d) {
// 			   		if (d[4]== "gray")
// 			   			return "gray";
// 			   		else
// 			   			return "#bdbdbd";})
			
		
// 			    svg.append("text")
//     			.attr("x", 360)
//     			.attr("y", 150)
//     			.attr("text-anchor", "middle")
//     			.text("text column")
//     			.attr("class", "text1opacity")
    			
//     			svg.append("text")
//     			.attr("x", 360)
//     			.attr("y", 200)
//     			.attr("text-anchor", "middle")
//     			.text("class='col-4'")
//     			.attr("class", "text1opacity")
    			
//     			svg.append("text")
//     			.attr("x", 710)
//     			.attr("y", 150)
//     			.attr("text-anchor", "middle")
//     			.text("visuals column")
//     			.attr("class", "text2opacity")

// 				svg.append("text")
//     			.attr("x", 710)
//     			.attr("y", 200)
//     			.attr("text-anchor", "middle")
//     			.text("class='col-8'")
//     			.attr("class", "text2opacity")


// var svg = d3.select("div#secondvisualdiv")
// 						.append("svg")
// 						.attr("viewBox", "0 0 1200 800")
//   						.attr("preserveAspectRatio", "xMinYMid")
  		
// var rectangles = [[200, 00, 800, 750, "gray"],[260, 50, 200, 80, "lightgray"],[260, 150, 200, 80, "lightgray"],[260, 250, 200, 80, "lightgray"],[260, 350, 200, 80, "lightgray"],[260, 450, 200, 80, "lightgray"],[260, 550, 200, 80, "lightgray"],[260, 650, 200, 80, "lightgray"],[500, 50, 430, 350, "lightgray"],[500, 450, 430, 280, "lightgray"]];
			   			
// 			svg.selectAll("rect")
// 			   .data(rectangles)
// 			   .enter()
// 			   .append("rect")
// 			   .attr("stroke", "black")
// 			   .attr("stroke-width", 1)
// 			   .attr("x", function(d) {
// 			   		return d[0];})
// 			   .attr("y", function(d) {
// 			   		return d[1];})
// 			   .attr("width", function(d) {
// 			   		return d[2];})
// 			   .attr("height", function(d) {
// 			   		return d[3];})
// 			   .attr("fill", function(d) {
// 			   		if (d[4]== "gray")
// 			   			return "gray";
// 			   		else
// 			   			return "#bdbdbd";})
				
// 			svg.append("text")
//     			.attr("x", 350)
//     			.attr("y", 100)
//     			.attr("text-anchor", "middle")
//     			.text("ID='text1'")
//     			.attr("class", "text3opacity")
    			
//     		svg.append("text")
//     			.attr("x", 350)
//     			.attr("y", 200)
//     			.attr("text-anchor", "middle")
//     			.text("ID='text2'")
//     			.attr("class", "text3opacity")
    			
//     		svg.append("text")
//     			.attr("x", 350)
//     			.attr("y", 300)
//     			.attr("text-anchor", "middle")
//     			.text("ID='text3'")
//     			.attr("class", "text3opacity")
    		
//     		svg.append("text")
//     			.attr("x", 350)
//     			.attr("y", 400)
//     			.attr("text-anchor", "middle")
//     			.text("ID='text4'")
//     			.attr("class", "text3opacity")
    		
//     		svg.append("text")
//     			.attr("x", 350)
//     			.attr("y", 500)
//     			.attr("text-anchor", "middle")
//     			.text("ID='text5'")
//     			.attr("class", "text3opacity")
    			
//     		svg.append("text")
//     			.attr("x", 350)
//     			.attr("y", 600)
//     			.attr("text-anchor", "middle")
//     			.text("ID='text6'")
//     			.attr("class", "text3opacity")

//     		svg.append("text")
//     			.attr("x", 350)
//     			.attr("y", 700)
//     			.attr("text-anchor", "middle")
//     			.text("ID='text7'")
//     			.attr("class", "text3opacity")
    		
//     		svg.append("text")
//     			.attr("x", 700)
//     			.attr("y", 200)
//     			.attr("text-anchor", "middle")
//     			.text("ID='firstvisualdiv'")
//     			.attr("class", "text3opacity")

//     		svg.append("text")
//     			.attr("x", 700)
//     			.attr("y", 580)
//     			.attr("text-anchor", "middle")
//     			.text("ID='secondvisualdiv'")
//     			.attr("class", "text3opacity")
    			
    				
//     		svg.append("text")
//     			.attr("x", 700)
//     			.attr("y", 250)
//     			.attr("text-anchor", "middle")
//     			.text("position: sticky")
//     			.attr("class", "text3opacity")		
    			
//     		svg.append("text")
//     			.attr("x", 700)
//     			.attr("y", 630)
//     			.attr("text-anchor", "middle")
//     			.text("position: sticky")
//     			.attr("class", "text3opacity")	
    
    var controller = new ScrollMagic.Controller();
    
    	new ScrollMagic.Scene({triggerElement: "#text1"})
        	.setClassToggle(".text1opacity", "active") 
        	.addTo(controller);
        
    	new ScrollMagic.Scene({triggerElement: "#text2"})
        	.setClassToggle(".text2opacity", "active") 
        	.addTo(controller);
                        
		new ScrollMagic.Scene({triggerElement: "#text3"})
        	.setClassToggle(".text3opacity", "active") 
        	.addTo(controller);
								
</script>
</body>
</html>